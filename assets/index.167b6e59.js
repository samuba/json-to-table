import{S as t,i as e,s as n,e as r,c as a,a as i,d as o,b as s,n as l,T as c,f as h,t as d,g as u,h as f,j as m,k as p,l as g,m as v,o as $,p as y,q as b,r as E,u as w,v as j,w as x,x as T,y as k,z as D,A as N,B as I,C,D as O,E as P,F as B,G as L,H as S,I as U}from"./vendor.9c63bdd0.js";function V(t){let e,n;return{c(){e=r("div"),n=d("Loading..."),this.h()},l(t){e=a(t,"DIV",{id:!0});var r=i(e);n=u(r,"Loading..."),r.forEach(o),this.h()},h(){f(e,"id","table")},m(r,a){s(r,e,a),m(e,n),t[7](e)},p:l,d(n){n&&o(e),t[7](null)}}}function A(t){let e,n;return{c(){e=r("div"),n=d(t[1]),this.h()},l(r){e=a(r,"DIV",{style:!0});var s=i(e);n=u(s,t[1]),s.forEach(o),this.h()},h(){p(e,"color","red"),p(e,"margin-top","1rem")},m(t,r){s(t,e,r),m(e,n)},p(t,e){2&e&&g(n,t[1])},d(t){t&&o(e)}}}function J(t){let e;function n(t,e){return t[1]?A:V}let c=n(t),h=c(t);return{c(){e=r("div"),h.c()},l(t){e=a(t,"DIV",{});var n=i(e);h.l(n),n.forEach(o)},m(t,n){s(t,e,n),h.m(e,null)},p(t,[r]){c===(c=n(t))&&h?h.p(t,r):(h.d(1),h=c(t),h&&(h.c(),h.m(e,null)))},i:l,o:l,d(t){t&&o(e),h.d()}}}function z(t,e,n){let r,a,i,{data:o}=e,{pagination:s}=e,{height:l=600}=e,{width:d=600}=e,{jsonParseError:u}=e;const f=t=>{const e=t.reduce(((t,e)=>(Object.entries(e).forEach((([e,n])=>{t[e]={title:e.toUpperCase(),field:e,headerFilter:"input"}})),t)),{});return Object.entries(e).reduce(((t,[e,n])=>(t.push(n),t)),[])};return t.$$set=t=>{"data"in t&&n(2,o=t.data),"pagination"in t&&n(3,s=t.pagination),"height"in t&&n(4,l=t.height),"width"in t&&n(5,d=t.width),"jsonParseError"in t&&n(6,u=t.jsonParseError)},t.$$.update=()=>{var e,h,m;28&t.$$.dirty&&(console.log({data:o}),e=o,h=s,m=l,u?i.destroy():(n(1,a=void 0),setTimeout((()=>{try{const t=h?{pagination:"local",height:m+"px"}:{};i&&i.destroy(),i=new c("#table",Object.assign({data:e,resizableColumns:!0,movableColumns:!0,headerFilterPlaceholder:"filter...",height:"100%",layout:"fitDataTable",columns:f(e)},t)),h&&n(0,r.style.maxWidth=d-2+"px",r),console.log({tabulatorTable:i})}catch(t){n(1,a=t)}}),10)))},[r,a,o,s,l,d,u,function(t){h[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class H extends t{constructor(t){super(),e(this,t,z,J,n,{data:2,pagination:3,height:4,width:5,jsonParseError:6})}}function F(t){let e,n;return{c(){e=r("div"),n=d(t[1]),this.h()},l(r){e=a(r,"DIV",{style:!0});var s=i(e);n=u(s,t[1]),s.forEach(o),this.h()},h(){p(e,"color","red"),p(e,"margin-bottom","1rem"),p(e,"text-align","center")},m(t,r){s(t,e,r),m(e,n)},p(t,e){2&e&&g(n,t[1])},d(t){t&&o(e)}}}function R(t){var e;let n,c,h,d,u,f,g=(null==(e=t[0])?void 0:e.trim())&&t[1],w=g&&F(t);return{c(){n=r("div"),c=r("textarea"),h=v(),w&&w.c(),d=$(),this.h()},l(t){n=a(t,"DIV",{style:!0});var e=i(n);c=a(e,"TEXTAREA",{style:!0}),i(c).forEach(o),e.forEach(o),h=y(t),w&&w.l(t),d=$(),this.h()},h(){p(c,"width","100%"),p(c,"height","12rem"),p(c,"resize","vertical"),p(n,"padding-left","1rem"),p(n,"padding-right","1rem"),p(n,"margin-bottom","1rem")},m(e,r){s(e,n,r),m(n,c),t[3](c),b(c,t[0]),s(e,h,r),w&&w.m(e,r),s(e,d,r),u||(f=E(c,"input",t[4]),u=!0)},p(t,[e]){var n;1&e&&b(c,t[0]),3&e&&(g=(null==(n=t[0])?void 0:n.trim())&&t[1]),g?w?w.p(t,e):(w=F(t),w.c(),w.m(d.parentNode,d)):w&&(w.d(1),w=null)},i:l,o:l,d(e){e&&o(n),t[3](null),e&&o(h),w&&w.d(e),e&&o(d),u=!1,f()}}}function W(t,e,n){let r,{json:a}=e,{error:i}=e;return w((()=>{n(2,r.placeholder='Paste JSON array here. \n\nStructure:\n[\n    {"name": "alice", "id": 1},\n    {"name": "bob", "id": 2}\n]',r)})),t.$$set=t=>{"json"in t&&n(0,a=t.json),"error"in t&&n(1,i=t.error)},[a,i,r,function(t){h[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},function(){a=this.value,n(0,a)}]}class _ extends t{constructor(t){super(),e(this,t,W,R,n,{json:0,error:1})}}const{window:q}=I;function G(t){let e,n,l,c,f,g,$,b,w,j,x,k,N;function I(e){t[15](e)}let C={error:t[2].error};return void 0!==t[0]&&(C.json=t[0]),f=new _({props:C}),h.push((()=>O(f,"json",I))),{c(){e=r("div"),n=r("h1"),l=d("JSON ➡️ Table"),c=v(),P(f.$$.fragment),$=v(),b=r("center"),w=r("button"),j=d("Use dummy data"),this.h()},l(t){e=a(t,"DIV",{style:!0});var r=i(e);n=a(r,"H1",{style:!0});var s=i(n);l=u(s,"JSON ➡️ Table"),s.forEach(o),c=y(r),B(f.$$.fragment,r),$=y(r),b=a(r,"CENTER",{});var h=i(b);w=a(h,"BUTTON",{style:!0});var d=i(w);j=u(d,"Use dummy data"),d.forEach(o),h.forEach(o),r.forEach(o),this.h()},h(){p(n,"margin-top","3rem"),p(n,"margin-bottom","3rem"),p(n,"text-align","center"),p(w,"align-self","stretch"),p(e,"display","flex"),p(e,"flex-direction","column"),p(e,"align-items","stretch")},m(r,a){s(r,e,a),m(e,n),m(n,l),m(e,c),L(f,e,null),m(e,$),m(e,b),m(b,w),m(w,j),x=!0,k||(N=E(w,"click",t[11]),k=!0)},p(t,e){const n={};4&e&&(n.error=t[2].error),!g&&1&e&&(g=!0,n.json=t[0],S((()=>g=!1))),f.$set(n)},i(t){x||(D(f.$$.fragment,t),x=!0)},o(t){T(f.$$.fragment,t),x=!1},d(t){t&&o(e),U(f),k=!1,N()}}}function M(t){let e,n,l,c,h,g,$,b,w,N,I,O;function S(t,e){return t[6]?K:X}let V=S(t),A=V(t),J=(t[1]||t[2].error)&&Q(t);return w=new H({props:{data:t[2].data,jsonParseError:t[2].error,pagination:!0,height:t[4]-(t[3]+6),width:t[5]}}),{c(){e=r("div"),A.c(),n=v(),l=r("label"),c=r("input"),h=d("\n        Edit Data"),$=v(),J&&J.c(),b=v(),P(w.$$.fragment),this.h()},l(t){e=a(t,"DIV",{style:!0});var r=i(e);A.l(r),n=y(r),l=a(r,"LABEL",{for:!0,style:!0});var s=i(l);c=a(s,"INPUT",{type:!0,id:!0}),h=u(s,"\n        Edit Data"),s.forEach(o),r.forEach(o),$=y(t),J&&J.l(t),b=y(t),B(w.$$.fragment,t),this.h()},h(){f(c,"type","checkbox"),f(c,"id","editDataBox"),f(l,"for","editDataBox"),p(l,"margin-left","1rem"),p(e,"height","50px"),p(e,"display","flex"),p(e,"justify-content","center"),p(e,"align-items","center"),j((()=>t[13].call(e)))},m(r,a){s(r,e,a),A.m(e,null),m(e,n),m(e,l),m(l,c),c.checked=t[1],m(l,h),g=x(e,t[13].bind(e)),s(r,$,a),J&&J.m(r,a),s(r,b,a),L(w,r,a),N=!0,I||(O=E(c,"change",t[12]),I=!0)},p(t,r){V===(V=S(t))&&A?A.p(t,r):(A.d(1),A=V(t),A&&(A.c(),A.m(e,n))),2&r&&(c.checked=t[1]),t[1]||t[2].error?J?(J.p(t,r),6&r&&D(J,1)):(J=Q(t),J.c(),D(J,1),J.m(b.parentNode,b)):J&&(C(),T(J,1,1,(()=>{J=null})),k());const a={};4&r&&(a.data=t[2].data),4&r&&(a.jsonParseError=t[2].error),24&r&&(a.height=t[4]-(t[3]+6)),32&r&&(a.width=t[5]),w.$set(a)},i(t){N||(D(J),D(w.$$.fragment,t),N=!0)},o(t){T(J),T(w.$$.fragment,t),N=!1},d(t){t&&o(e),A.d(),g(),t&&o($),J&&J.d(t),t&&o(b),U(w,t),I=!1,O()}}}function X(t){let e,n,l,c,h=t[7]?"Creating permanent link...":"Create permanent link to this table";return{c(){e=r("button"),n=d(h),this.h()},l(t){e=a(t,"BUTTON",{title:!0});var r=i(e);n=u(r,h),r.forEach(o),this.h()},h(){e.disabled=t[7],f(e,"title","No data is saved on any servers!")},m(r,a){s(r,e,a),m(e,n),l||(c=E(e,"click",t[10]),l=!0)},p(t,r){128&r&&h!==(h=t[7]?"Creating permanent link...":"Create permanent link to this table")&&g(n,h),128&r&&(e.disabled=t[7])},d(t){t&&o(e),l=!1,c()}}}function K(t){let e,n;return{c(){e=r("a"),n=d("Link to this table"),this.h()},l(t){e=a(t,"A",{href:!0,style:!0});var r=i(e);n=u(r,"Link to this table"),r.forEach(o),this.h()},h(){f(e,"href",t[6])},m(t,r){s(t,e,r),m(e,n)},p(t,n){64&n&&f(e,"href",t[6])},d(t){t&&o(e)}}}function Q(t){let e,n,r;function a(e){t[14](e)}let i={error:t[2].error};return void 0!==t[0]&&(i.json=t[0]),e=new _({props:i}),h.push((()=>O(e,"json",a))),{c(){P(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){L(e,t,n),r=!0},p(t,r){const a={};4&r&&(a.error=t[2].error),!n&&1&r&&(n=!0,a.json=t[0],S((()=>n=!1))),e.$set(a)},i(t){r||(D(e.$$.fragment,t),r=!0)},o(t){T(e.$$.fragment,t),r=!1},d(t){U(e,t)}}}function Y(t){let e,n,l,c,h,d,u;const f=[M,G],m=[];function g(t,e){return t[8]?0:1}return n=g(t),l=m[n]=f[n](t),{c(){e=r("main"),l.c(),this.h()},l(t){e=a(t,"MAIN",{style:!0});var n=i(e);l.l(n),n.forEach(o),this.h()},h(){p(e,"height","100%"),j((()=>t[16].call(e)))},m(r,a){s(r,e,a),m[n].m(e,null),c=x(e,t[16].bind(e)),h=!0,d||(u=E(q,"hashchange",t[9]),d=!0)},p(t,[r]){let a=n;n=g(t),n===a?m[n].p(t,r):(C(),T(m[a],1,1,(()=>{m[a]=null})),k(),l=m[n],l?l.p(t,r):(l=m[n]=f[n](t),l.c()),D(l,1),l.m(e,null))},i(t){h||(D(l),h=!0)},o(t){T(l),h=!1},d(t){t&&o(e),m[n].d(),c(),d=!1,u()}}}function Z(t,e,n){let r,a;var i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function o(t){try{l(r.next(t))}catch(e){i(e)}}function s(t){try{l(r.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}l((r=r.apply(t,e||[])).next())}))};let o,s,l,c,h=!1,d="",u=!1;const f=N("lzma");w((()=>{m()}));const m=()=>{const t=window.location.hash.substring(0);t&&(n(6,d=window.location.hash),f.decompress(t).then((t=>{console.log("decoded from URL",t),n(0,o=JSON.stringify(t.json.data,null,2))})))};return t.$$.update=()=>{1&t.$$.dirty&&n(2,r=(t=>{try{return{data:JSON.parse(t),error:""}}catch(e){return{data:void 0,error:e+""}}})(o)),6&t.$$.dirty&&n(8,a=r.data||h)},[o,h,r,s,l,c,d,u,a,()=>{window.location.hash?m():(n(0,o=""),n(6,d=""))},()=>{n(7,u=!0),f.compress({json:r}).then((t=>{n(6,d="#"+t),window.location.hash=d,n(7,u=!1)})).catch((t=>{n(7,u=!1),console.error("Could not create sharable url",t)}))},()=>i(void 0,void 0,void 0,(function*(){const t=yield fetch("movies.json");n(0,o=yield t.text())})),function(){h=this.checked,n(1,h)},function(){s=this.clientHeight,n(3,s)},function(t){o=t,n(0,o)},function(t){o=t,n(0,o)},function(){l=this.clientHeight,c=this.clientWidth,n(4,l),n(5,c)}]}new class extends t{constructor(t){super(),e(this,t,Z,Y,n,{})}}({target:document.getElementById("app")});
