import{S as t,i as e,s as r,e as n,c as a,a as i,d as o,b as s,f as l,n as h,T as c,g as d,t as u,h as f,j as m,k as p,l as g,m as v,o as y,p as $,q as b,r as E,u as w,v as j,w as x,x as T,y as N,z as k,A as C,B as I,C as D,D as P,E as O,F as B,G as L,H as V,I as U,J as A,K as S}from"./vendor.19be9310.js";function z(t){let e,r;return{c(){e=n("div"),r=u("Loading..."),this.h()},l(t){e=a(t,"DIV",{id:!0,class:!0});var n=i(e);r=f(n,"Loading..."),n.forEach(o),this.h()},h(){m(e,"id","table"),m(e,"class","svelte-1dncppz")},m(n,a){l(n,e,a),p(e,r),t[7](e)},p:h,d(r){r&&o(e),t[7](null)}}}function H(t){let e,r;return{c(){e=n("div"),r=u(t[1]),this.h()},l(n){e=a(n,"DIV",{style:!0});var s=i(e);r=f(s,t[1]),s.forEach(o),this.h()},h(){s(e,"color","red"),s(e,"margin-top","1rem")},m(t,n){l(t,e,n),p(e,r)},p(t,e){2&e&&g(r,t[1])},d(t){t&&o(e)}}}function J(t){let e;function r(t,e){return t[1]?H:z}let c=r(t),d=c(t);return{c(){e=n("center"),d.c(),this.h()},l(t){e=a(t,"CENTER",{style:!0});var r=i(e);d.l(r),r.forEach(o),this.h()},h(){s(e,"background-color","#e6e6e6")},m(t,r){l(t,e,r),d.m(e,null)},p(t,[n]){c===(c=r(t))&&d?d.p(t,n):(d.d(1),d=c(t),d&&(d.c(),d.m(e,null)))},i:h,o:h,d(t){t&&o(e),d.d()}}}function R(t,e,r){let n,a,i,{data:o}=e,{pagination:s}=e,{height:l=600}=e,{width:h=600}=e,{jsonParseError:u}=e;const f=t=>{if("string"==typeof t&&(t.startsWith("https://")||t.startsWith("http://")))return"link"},m=t=>{const e=t.reduce(((t,e)=>(Object.entries(e).forEach((([e,r])=>{t[e]={title:e.toUpperCase(),field:e,headerFilter:"input",formatter:f(r)}})),t)),{});return Object.entries(e).reduce(((t,[e,r])=>(t.push(r),t)),[])};return t.$$set=t=>{"data"in t&&r(2,o=t.data),"pagination"in t&&r(3,s=t.pagination),"height"in t&&r(4,l=t.height),"width"in t&&r(5,h=t.width),"jsonParseError"in t&&r(6,u=t.jsonParseError)},t.$$.update=()=>{var e,d,f;28&t.$$.dirty&&(console.log({data:o}),e=o,d=s,f=l,u?i.destroy():(r(1,a=void 0),setTimeout((()=>{try{const t=d?{pagination:"local",height:f+"px"}:{};i&&i.destroy(),i=new c("#table",Object.assign({data:e,resizableColumns:!0,movableColumns:!0,headerFilterPlaceholder:"filter...",height:"100%",layout:"fitDataTable",columns:m(e)},t)),d&&r(0,n.style.maxWidth=h-2+"px",n),console.log({tabulatorTable:i})}catch(t){r(1,a=t)}}),10)))},[n,a,o,s,l,h,u,function(t){d[t?"unshift":"push"]((()=>{n=t,r(0,n)}))}]}class W extends t{constructor(t){super(),e(this,t,R,J,r,{data:2,pagination:3,height:4,width:5,jsonParseError:6})}}function F(t){let e,r;return{c(){e=n("div"),r=u(t[2]),this.h()},l(n){e=a(n,"DIV",{style:!0});var s=i(e);r=f(s,t[2]),s.forEach(o),this.h()},h(){s(e,"color","red"),s(e,"margin-bottom","1rem"),s(e,"text-align","center")},m(t,n){l(t,e,n),p(e,r)},p(t,e){4&e&&g(r,t[2])},d(t){t&&o(e)}}}function _(t){var e;let r,c,d,g,j,x,T,N,k,C,I,D,P=(null==(e=t[0])?void 0:e.trim())&&t[2],O=P&&F(t);return{c(){r=n("div"),c=n("div"),d=n("label"),g=u("Title"),j=v(),x=n("input"),T=v(),N=n("textarea"),k=v(),O&&O.c(),C=y(),this.h()},l(t){r=a(t,"DIV",{style:!0});var e=i(r);c=a(e,"DIV",{style:!0});var n=i(c);d=a(n,"LABEL",{for:!0,style:!0});var s=i(d);g=f(s,"Title"),s.forEach(o),j=$(n),x=a(n,"INPUT",{style:!0}),n.forEach(o),T=$(e),N=a(e,"TEXTAREA",{style:!0}),i(N).forEach(o),e.forEach(o),k=$(t),O&&O.l(t),C=y(),this.h()},h(){m(d,"for","title"),s(d,"margin-right","0.5rem"),s(x,"width","100%"),s(c,"margin-bottom","0.5rem"),s(c,"display","flex"),s(N,"width","100%"),s(N,"height","12rem"),s(N,"resize","vertical"),s(r,"padding-left","1rem"),s(r,"padding-right","1rem"),s(r,"margin-bottom","1rem")},m(e,n){l(e,r,n),p(r,c),p(c,d),p(d,g),p(c,j),p(c,x),b(x,t[1]),p(r,T),p(r,N),t[7](N),b(N,t[0]),l(e,k,n),O&&O.m(e,n),l(e,C,n),I||(D=[E(x,"input",t[5]),E(x,"input",t[6]),E(N,"input",t[8]),E(N,"input",t[9])],I=!0)},p(t,[e]){var r;2&e&&x.value!==t[1]&&b(x,t[1]),1&e&&b(N,t[0]),5&e&&(P=(null==(r=t[0])?void 0:r.trim())&&t[2]),P?O?O.p(t,e):(O=F(t),O.c(),O.m(C.parentNode,C)):O&&(O.d(1),O=null)},i:h,o:h,d(e){e&&o(r),t[7](null),e&&o(k),O&&O.d(e),e&&o(C),I=!1,w(D)}}}function q(t,e,r){let{json:n}=e,{title:a}=e,{error:i}=e;const o=j();let s;x((()=>{r(3,s.placeholder='Paste JSON array here. \n\nStructure:\n[\n    {"name": "alice", "id": 1},\n    {"name": "bob", "id": 2}\n]',s)}));return t.$$set=t=>{"json"in t&&r(0,n=t.json),"title"in t&&r(1,a=t.title),"error"in t&&r(2,i=t.error)},[n,a,i,s,o,function(){a=this.value,r(1,a)},()=>o("inputChanged",{}),function(t){d[t?"unshift":"push"]((()=>{s=t,r(3,s)}))},function(){n=this.value,r(0,n)},()=>o("inputChanged")]}class G extends t{constructor(t){super(),e(this,t,q,_,r,{json:0,title:1,error:2})}}const{window:K}=P;function M(t){let e,r,h,c,m,g,y,b,w,j,x,T,N,C,D,P,O,z,H;function J(e){t[18](e)}function R(e){t[19](e)}let W={error:t[2].error};return void 0!==t[0]&&(W.json=t[0]),void 0!==t[8]&&(W.title=t[8]),j=new G({props:W}),d.push((()=>B(j,"json",J))),d.push((()=>B(j,"title",R))),{c(){e=n("div"),r=n("h1"),h=u("JSON ➡️ Table"),c=v(),m=n("h4"),g=u("Create an interactive spreadsheet table and share it with others.\n        "),y=n("br"),b=u("\n        No data is ever stored on the server! ✨"),w=v(),L(j.$$.fragment),N=v(),C=n("center"),D=n("button"),P=u("Use dummy data"),this.h()},l(t){e=a(t,"DIV",{style:!0});var n=i(e);r=a(n,"H1",{style:!0});var s=i(r);h=f(s,"JSON ➡️ Table"),s.forEach(o),c=$(n),m=a(n,"H4",{style:!0});var l=i(m);g=f(l,"Create an interactive spreadsheet table and share it with others.\n        "),y=a(l,"BR",{}),b=f(l,"\n        No data is ever stored on the server! ✨"),l.forEach(o),w=$(n),V(j.$$.fragment,n),N=$(n),C=a(n,"CENTER",{});var d=i(C);D=a(d,"BUTTON",{style:!0});var u=i(D);P=f(u,"Use dummy data"),u.forEach(o),d.forEach(o),n.forEach(o),this.h()},h(){s(r,"margin-top","3rem"),s(r,"text-align","center"),s(m,"text-align","center"),s(m,"margin-bottom","3rem"),s(D,"align-self","stretch"),s(e,"display","flex"),s(e,"flex-direction","column"),s(e,"align-items","stretch")},m(n,a){l(n,e,a),p(e,r),p(r,h),p(e,c),p(e,m),p(m,g),p(m,y),p(m,b),p(e,w),U(j,e,null),p(e,N),p(e,C),p(C,D),p(D,P),O=!0,z||(H=E(D,"click",t[13]),z=!0)},p(t,e){const r={};4&e&&(r.error=t[2].error),!x&&1&e&&(x=!0,r.json=t[0],A((()=>x=!1))),!T&&256&e&&(T=!0,r.title=t[8],A((()=>T=!1))),j.$set(r)},i(t){O||(I(j.$$.fragment,t),O=!0)},o(t){k(j.$$.fragment,t),O=!1},d(t){t&&o(e),S(j),z=!1,H()}}}function X(t){let e,r,h,c,d,y,b,w,j,x,D,P,B,A,z,H,J;function R(t,e){return t[6]?Y:Q}let F=R(t),_=F(t),q=(t[1]||t[2].error)&&Z(t);return A=new W({props:{data:t[2].data,jsonParseError:t[2].error,pagination:!0,height:t[4]-(t[3]+5),width:t[5]}}),{c(){e=n("div"),r=n("div"),h=n("h1"),c=u(t[8]),d=v(),y=n("div"),_.c(),b=v(),w=n("label"),j=n("input"),x=u("\n          Edit"),P=v(),q&&q.c(),B=v(),L(A.$$.fragment),this.h()},l(n){e=a(n,"DIV",{style:!0});var s=i(e);r=a(s,"DIV",{style:!0});var l=i(r);h=a(l,"H1",{style:!0});var u=i(h);c=f(u,t[8]),u.forEach(o),l.forEach(o),d=$(s),y=a(s,"DIV",{style:!0});var m=i(y);_.l(m),b=$(m),w=a(m,"LABEL",{for:!0,style:!0});var p=i(w);j=a(p,"INPUT",{type:!0,id:!0}),x=f(p,"\n          Edit"),p.forEach(o),m.forEach(o),s.forEach(o),P=$(n),q&&q.l(n),B=$(n),V(A.$$.fragment,n),this.h()},h(){s(h,"font-size","1rem"),s(r,"margin-left","1rem"),m(j,"type","checkbox"),m(j,"id","editDataBox"),m(w,"for","editDataBox"),s(w,"margin-left","1rem"),s(y,"margin-right","1rem"),s(e,"height","2.5rem"),s(e,"display","flex"),s(e,"justify-content","space-between"),s(e,"align-items","center"),T((()=>t[15].call(e)))},m(n,a){l(n,e,a),p(e,r),p(r,h),p(h,c),p(e,d),p(e,y),_.m(y,null),p(y,b),p(y,w),p(w,j),j.checked=t[1],p(w,x),D=N(e,t[15].bind(e)),l(n,P,a),q&&q.m(n,a),l(n,B,a),U(A,n,a),z=!0,H||(J=E(j,"change",t[14]),H=!0)},p(t,e){(!z||256&e)&&g(c,t[8]),F===(F=R(t))&&_?_.p(t,e):(_.d(1),_=F(t),_&&(_.c(),_.m(y,b))),2&e&&(j.checked=t[1]),t[1]||t[2].error?q?(q.p(t,e),6&e&&I(q,1)):(q=Z(t),q.c(),I(q,1),q.m(B.parentNode,B)):q&&(O(),k(q,1,1,(()=>{q=null})),C());const r={};4&e&&(r.data=t[2].data),4&e&&(r.jsonParseError=t[2].error),24&e&&(r.height=t[4]-(t[3]+5)),32&e&&(r.width=t[5]),A.$set(r)},i(t){z||(I(q),I(A.$$.fragment,t),z=!0)},o(t){k(q),k(A.$$.fragment,t),z=!1},d(t){t&&o(e),_.d(),D(),t&&o(P),q&&q.d(t),t&&o(B),S(A,t),H=!1,J()}}}function Q(t){let e,r,s,h,c=t[7]?"Creating permanent link...":"Create permanent link to this table";return{c(){e=n("button"),r=u(c),this.h()},l(t){e=a(t,"BUTTON",{title:!0});var n=i(e);r=f(n,c),n.forEach(o),this.h()},h(){e.disabled=t[7],m(e,"title","No data is saved on any servers!")},m(n,a){l(n,e,a),p(e,r),s||(h=E(e,"click",t[11]),s=!0)},p(t,n){128&n&&c!==(c=t[7]?"Creating permanent link...":"Create permanent link to this table")&&g(r,c),128&n&&(e.disabled=t[7])},d(t){t&&o(e),s=!1,h()}}}function Y(t){let e,r;return{c(){e=n("a"),r=u("Link to this table"),this.h()},l(t){e=a(t,"A",{href:!0,target:!0,style:!0});var n=i(e);r=f(n,"Link to this table"),n.forEach(o),this.h()},h(){m(e,"href",t[6]),m(e,"target","_blank")},m(t,n){l(t,e,n),p(e,r)},p(t,r){64&r&&m(e,"href",t[6])},d(t){t&&o(e)}}}function Z(t){let e,r,n,a;function i(e){t[16](e)}function o(e){t[17](e)}let s={error:t[2].error};return void 0!==t[0]&&(s.json=t[0]),void 0!==t[8]&&(s.title=t[8]),e=new G({props:s}),d.push((()=>B(e,"json",i))),d.push((()=>B(e,"title",o))),e.$on("inputChanged",t[12]),{c(){L(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){U(e,t,r),a=!0},p(t,a){const i={};4&a&&(i.error=t[2].error),!r&&1&a&&(r=!0,i.json=t[0],A((()=>r=!1))),!n&&256&a&&(n=!0,i.title=t[8],A((()=>n=!1))),e.$set(i)},i(t){a||(I(e.$$.fragment,t),a=!0)},o(t){k(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function tt(t){let e,r,h,c,d,u,f;const m=[X,M],p=[];function g(t,e){return t[9]?0:1}return r=g(t),h=p[r]=m[r](t),{c(){e=n("main"),h.c(),this.h()},l(t){e=a(t,"MAIN",{style:!0});var r=i(e);h.l(r),r.forEach(o),this.h()},h(){s(e,"height","100%"),s(e,"width","100%"),T((()=>t[20].call(e)))},m(n,a){l(n,e,a),p[r].m(e,null),c=N(e,t[20].bind(e)),d=!0,u||(f=E(K,"hashchange",t[10]),u=!0)},p(t,[n]){let a=r;r=g(t),r===a?p[r].p(t,n):(O(),k(p[a],1,1,(()=>{p[a]=null})),C(),h=p[r],h?h.p(t,n):(h=p[r]=m[r](t),h.c()),I(h,1),h.m(e,null))},i(t){d||(I(h),d=!0)},o(t){k(h),d=!1},d(t){t&&o(e),p[r].d(),c(),u=!1,f()}}}function et(t,e,r){let n,a;var i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(a,i){function o(t){try{l(n.next(t))}catch(e){i(e)}}function s(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,s)}l((n=n.apply(t,e||[])).next())}))};let o,s,l,h,c=!1,d="",u=!1,f="",m=!1;const p=D("lzma");x((()=>{g()}));const g=()=>{const t=window.location.hash.substring(0);t&&(r(6,d=window.location.hash),p.decompress(t).then((t=>{console.log("decoded from URL",t),r(0,o=JSON.stringify(t.json.data,null,2)),r(8,f=t.title),document.title=t.title})))};return t.$$.update=()=>{1&t.$$.dirty&&r(2,n=(t=>{try{return{data:JSON.parse(t),error:""}}catch(e){return{data:void 0,error:e+""}}})(o)),6&t.$$.dirty&&r(9,a=n.data||c)},[o,c,n,s,l,h,d,u,f,a,()=>{m?m=!1:window.location.hash?g():(r(0,o=""),r(6,d=""))},()=>{r(7,u=!0),p.compress({json:n,title:f}).then((t=>{r(6,d="#"+t),window.location.hash=d,r(7,u=!1)})).catch((t=>{r(7,u=!1),console.error("Could not create sharable url",t)}))},()=>{r(6,d=""),m=!0,window.location.hash=""},()=>i(void 0,void 0,void 0,(function*(){const t=yield fetch("movies.json");r(0,o=yield t.text())})),function(){c=this.checked,r(1,c)},function(){s=this.clientHeight,r(3,s)},function(t){o=t,r(0,o)},function(t){f=t,r(8,f)},function(t){o=t,r(0,o)},function(t){f=t,r(8,f)},function(){l=this.clientHeight,h=this.clientWidth,r(4,l),r(5,h)}]}new class extends t{constructor(t){super(),e(this,t,et,tt,r,{})}}({target:document.getElementById("app")});
