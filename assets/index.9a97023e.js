import{S as t,i as e,s as r,e as n,c as a,a as i,d as o,b as s,n as l,T as c,f as h,t as d,g as u,h as f,j as m,k as p,l as g,m as v,o as $,p as y,q as E,r as b,u as j,v as w,w as x,x as D,y as T,z as N,A as I,B as P,C as O,D as k,E as L,F as S,G as V,H as A}from"./vendor.4b1a5644.js";function B(t){let e,r;return{c(){e=n("div"),r=d("Loading..."),this.h()},l(t){e=a(t,"DIV",{id:!0});var n=i(e);r=u(n,"Loading..."),n.forEach(o),this.h()},h(){f(e,"id","table")},m(n,a){s(n,e,a),m(e,r),t[7](e)},p:l,d(r){r&&o(e),t[7](null)}}}function U(t){let e,r;return{c(){e=n("div"),r=d(t[1]),this.h()},l(n){e=a(n,"DIV",{style:!0});var s=i(e);r=u(s,t[1]),s.forEach(o),this.h()},h(){p(e,"color","red"),p(e,"margin-top","1rem")},m(t,n){s(t,e,n),m(e,r)},p(t,e){2&e&&g(r,t[1])},d(t){t&&o(e)}}}function C(t){let e;function r(t,e){return t[1]?U:B}let c=r(t),h=c(t);return{c(){e=n("div"),h.c()},l(t){e=a(t,"DIV",{});var r=i(e);h.l(r),r.forEach(o)},m(t,r){s(t,e,r),h.m(e,null)},p(t,[n]){c===(c=r(t))&&h?h.p(t,n):(h.d(1),h=c(t),h&&(h.c(),h.m(e,null)))},i:l,o:l,d(t){t&&o(e),h.d()}}}function J(t,e,r){let n,a,i,{data:o}=e,{pagination:s}=e,{height:l=600}=e,{width:d=600}=e,{jsonParseError:u}=e;const f=t=>{const e=t.reduce(((t,e)=>(Object.entries(e).forEach((([e,r])=>{t[e]={title:e.toUpperCase(),field:e,headerFilter:"input"}})),t)),{});return Object.entries(e).reduce(((t,[e,r])=>(t.push(r),t)),[])};return t.$$set=t=>{"data"in t&&r(2,o=t.data),"pagination"in t&&r(3,s=t.pagination),"height"in t&&r(4,l=t.height),"width"in t&&r(5,d=t.width),"jsonParseError"in t&&r(6,u=t.jsonParseError)},t.$$.update=()=>{var e,h,m;28&t.$$.dirty&&(console.log({data:o}),e=o,h=s,m=l,u?i.destroy():(r(1,a=void 0),setTimeout((()=>{try{const t=h?{pagination:"local",height:m+"px"}:{};i&&i.destroy(),i=new c("#table",Object.assign({data:e,resizableColumns:!0,movableColumns:!0,headerFilterPlaceholder:"filter...",height:"100%",layout:"fitDataTable",columns:f(e)},t)),h&&r(0,n.style.maxWidth=d-2+"px",n),console.log({tabulatorTable:i})}catch(t){r(1,a=t)}}),10)))},[n,a,o,s,l,d,u,function(t){h[t?"unshift":"push"]((()=>{n=t,r(0,n)}))}]}class z extends t{constructor(t){super(),e(this,t,J,C,r,{data:2,pagination:3,height:4,width:5,jsonParseError:6})}}function H(t){let e,r;return{c(){e=n("div"),r=d(t[1]),this.h()},l(n){e=a(n,"DIV",{style:!0});var s=i(e);r=u(s,t[1]),s.forEach(o),this.h()},h(){p(e,"color","red"),p(e,"margin-bottom","1rem"),p(e,"text-align","center")},m(t,n){s(t,e,n),m(e,r)},p(t,e){2&e&&g(r,t[1])},d(t){t&&o(e)}}}function F(t){var e;let r,c,h,d,u,f,g=(null==(e=t[0])?void 0:e.trim())&&t[1],j=g&&H(t);return{c(){r=n("div"),c=n("textarea"),h=v(),j&&j.c(),d=$(),this.h()},l(t){r=a(t,"DIV",{style:!0});var e=i(r);c=a(e,"TEXTAREA",{style:!0}),i(c).forEach(o),e.forEach(o),h=y(t),j&&j.l(t),d=$(),this.h()},h(){p(c,"width","100%"),p(c,"height","12rem"),p(c,"resize","vertical"),p(r,"padding-left","1rem"),p(r,"padding-right","1rem"),p(r,"margin-bottom","1rem")},m(e,n){s(e,r,n),m(r,c),t[3](c),E(c,t[0]),s(e,h,n),j&&j.m(e,n),s(e,d,n),u||(f=b(c,"input",t[4]),u=!0)},p(t,[e]){var r;1&e&&E(c,t[0]),3&e&&(g=(null==(r=t[0])?void 0:r.trim())&&t[1]),g?j?j.p(t,e):(j=H(t),j.c(),j.m(d.parentNode,d)):j&&(j.d(1),j=null)},i:l,o:l,d(e){e&&o(r),t[3](null),e&&o(h),j&&j.d(e),e&&o(d),u=!1,f()}}}function R(t,e,r){let n,{json:a}=e,{error:i}=e;return j((()=>{r(2,n.placeholder='Paste JSON array here. \n\nStructure:\n[\n    {"name": "alice", "id": 1},\n    {"name": "bob", "id": 2}\n]',n)})),t.$$set=t=>{"json"in t&&r(0,a=t.json),"error"in t&&r(1,i=t.error)},[a,i,n,function(t){h[t?"unshift":"push"]((()=>{n=t,r(2,n)}))},function(){a=this.value,r(0,a)}]}class W extends t{constructor(t){super(),e(this,t,R,F,r,{json:0,error:1})}}function _(t){let e,r,l,c,f,g,$,E,j,w,x,T,I;function P(e){t[11](e)}let B={error:t[2].error};return void 0!==t[0]&&(B.json=t[0]),f=new W({props:B}),h.push((()=>O(f,"json",P))),{c(){e=n("div"),r=n("h1"),l=d("JSON ➡️ Table"),c=v(),k(f.$$.fragment),$=v(),E=n("center"),j=n("button"),w=d("Use dummy data"),this.h()},l(t){e=a(t,"DIV",{style:!0});var n=i(e);r=a(n,"H1",{style:!0});var s=i(r);l=u(s,"JSON ➡️ Table"),s.forEach(o),c=y(n),L(f.$$.fragment,n),$=y(n),E=a(n,"CENTER",{});var h=i(E);j=a(h,"BUTTON",{style:!0});var d=i(j);w=u(d,"Use dummy data"),d.forEach(o),h.forEach(o),n.forEach(o),this.h()},h(){p(r,"margin-top","3rem"),p(r,"margin-bottom","3rem"),p(r,"text-align","center"),p(j,"align-self","stretch"),p(e,"display","flex"),p(e,"flex-direction","column"),p(e,"align-items","stretch")},m(n,a){s(n,e,a),m(e,r),m(r,l),m(e,c),S(f,e,null),m(e,$),m(e,E),m(E,j),m(j,w),x=!0,T||(I=b(j,"click",t[7]),T=!0)},p(t,e){const r={};4&e&&(r.error=t[2].error),!g&&1&e&&(g=!0,r.json=t[0],V((()=>g=!1))),f.$set(r)},i(t){x||(N(f.$$.fragment,t),x=!0)},o(t){D(f.$$.fragment,t),x=!1},d(t){t&&o(e),A(f),T=!1,I()}}}function q(t){let e,r,l,c,h,g,$,E,j,I,O,V,B=t[1]&&G(t),U=(t[6]||t[2].error)&&M(t);return j=new z({props:{data:t[2].data,jsonParseError:t[2].error,pagination:!0,height:t[4]-(t[3]+6),width:t[5]}}),{c(){e=n("div"),B&&B.c(),r=v(),l=n("label"),c=n("input"),h=d("\n        Edit Data"),$=v(),U&&U.c(),E=v(),k(j.$$.fragment),this.h()},l(t){e=a(t,"DIV",{style:!0});var n=i(e);B&&B.l(n),r=y(n),l=a(n,"LABEL",{for:!0,style:!0});var s=i(l);c=a(s,"INPUT",{type:!0,id:!0}),h=u(s,"\n        Edit Data"),s.forEach(o),n.forEach(o),$=y(t),U&&U.l(t),E=y(t),L(j.$$.fragment,t),this.h()},h(){f(c,"type","checkbox"),f(c,"id","editDataBox"),f(l,"for","editDataBox"),p(l,"margin-left","1rem"),p(e,"height","50px"),p(e,"display","flex"),p(e,"justify-content","center"),p(e,"align-items","center"),w((()=>t[9].call(e)))},m(n,a){s(n,e,a),B&&B.m(e,null),m(e,r),m(e,l),m(l,c),c.checked=t[6],m(l,h),g=x(e,t[9].bind(e)),s(n,$,a),U&&U.m(n,a),s(n,E,a),S(j,n,a),I=!0,O||(V=b(c,"change",t[8]),O=!0)},p(t,n){t[1]?B?B.p(t,n):(B=G(t),B.c(),B.m(e,r)):B&&(B.d(1),B=null),64&n&&(c.checked=t[6]),t[6]||t[2].error?U?(U.p(t,n),68&n&&N(U,1)):(U=M(t),U.c(),N(U,1),U.m(E.parentNode,E)):U&&(P(),D(U,1,1,(()=>{U=null})),T());const a={};4&n&&(a.data=t[2].data),4&n&&(a.jsonParseError=t[2].error),24&n&&(a.height=t[4]-(t[3]+6)),32&n&&(a.width=t[5]),j.$set(a)},i(t){I||(N(U),N(j.$$.fragment,t),I=!0)},o(t){D(U),D(j.$$.fragment,t),I=!1},d(t){t&&o(e),B&&B.d(),g(),t&&o($),U&&U.d(t),t&&o(E),A(j,t),O=!1,V()}}}function G(t){let e,r;return{c(){e=n("a"),r=d("Link to this table"),this.h()},l(t){e=a(t,"A",{href:!0,style:!0});var n=i(e);r=u(n,"Link to this table"),n.forEach(o),this.h()},h(){f(e,"href",t[1])},m(t,n){s(t,e,n),m(e,r)},p(t,r){2&r&&f(e,"href",t[1])},d(t){t&&o(e)}}}function M(t){let e,r,n;function a(e){t[10](e)}let i={error:t[2].error};return void 0!==t[0]&&(i.json=t[0]),e=new W({props:i}),h.push((()=>O(e,"json",a))),{c(){k(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,r){S(e,t,r),n=!0},p(t,n){const a={};4&n&&(a.error=t[2].error),!r&&1&n&&(r=!0,a.json=t[0],V((()=>r=!1))),e.$set(a)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){A(e,t)}}}function X(t){let e,r,l,c,h;const d=[q,_],u=[];function f(t,e){return t[2].data||t[6]?0:1}return r=f(t),l=u[r]=d[r](t),{c(){e=n("main"),l.c(),this.h()},l(t){e=a(t,"MAIN",{style:!0});var r=i(e);l.l(r),r.forEach(o),this.h()},h(){p(e,"height","100%"),w((()=>t[12].call(e)))},m(n,a){s(n,e,a),u[r].m(e,null),c=x(e,t[12].bind(e)),h=!0},p(t,[n]){let a=r;r=f(t),r===a?u[r].p(t,n):(P(),D(u[a],1,1,(()=>{u[a]=null})),T(),l=u[r],l?l.p(t,n):(l=u[r]=d[r](t),l.c()),N(l,1),l.m(e,null))},i(t){h||(N(l),h=!0)},o(t){D(l),h=!1},d(t){t&&o(e),u[r].d(),c()}}}function K(t,e,r){let n;var a=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(a,i){function o(t){try{l(n.next(t))}catch(e){i(e)}}function s(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,s)}l((n=n.apply(t,e||[])).next())}))};let i,o,s,l,c=!1,h="";const d=I("lzma");j((()=>{const t=window.location.hash.substring(0);t&&d.decompress(t).then((t=>{console.log("decoded from URL",t),r(0,i=JSON.stringify(t.json.data,null,2))}))}));return t.$$.update=()=>{1&t.$$.dirty&&r(2,n=(t=>{try{return{data:JSON.parse(t),error:""}}catch(e){return{data:void 0,error:e+""}}})(i)),6&t.$$.dirty&&n.data&&(console.log("compr",n),d.compress({json:n}).then((t=>{r(1,h="#"+t),window.location.hash=h})))},[i,h,n,o,s,l,c,()=>a(void 0,void 0,void 0,(function*(){const t=yield fetch("movies.json");r(0,i=yield t.text())})),function(){c=this.checked,r(6,c)},function(){o=this.clientHeight,r(3,o)},function(t){i=t,r(0,i)},function(t){i=t,r(0,i)},function(){s=this.clientHeight,l=this.clientWidth,r(4,s),r(5,l)}]}new class extends t{constructor(t){super(),e(this,t,K,X,r,{})}}({target:document.getElementById("app")});
