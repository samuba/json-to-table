import{S as t,i as e,s as r,e as n,c as a,a as i,d as o,b as s,n as l,T as h,f as c,t as d,g as u,h as f,j as m,k as p,l as g,m as v,o as y,p as $,q as b,r as E,u as w,v as j,w as x,x as T,y as N,z as C,A as k,B as I,C as D,D as P,E as O,F as B,G as L,H as V,I as U,J as A,K as S}from"./vendor.f911b600.js";function z(t){let e,r;return{c(){e=n("div"),r=d("Loading..."),this.h()},l(t){e=a(t,"DIV",{id:!0,class:!0});var n=i(e);r=u(n,"Loading..."),n.forEach(o),this.h()},h(){f(e,"id","table"),f(e,"class","svelte-1dncppz")},m(n,a){s(n,e,a),m(e,r),t[7](e)},p:l,d(r){r&&o(e),t[7](null)}}}function H(t){let e,r;return{c(){e=n("div"),r=d(t[1]),this.h()},l(n){e=a(n,"DIV",{style:!0});var s=i(e);r=u(s,t[1]),s.forEach(o),this.h()},h(){p(e,"color","red"),p(e,"margin-top","1rem")},m(t,n){s(t,e,n),m(e,r)},p(t,e){2&e&&g(r,t[1])},d(t){t&&o(e)}}}function J(t){let e;function r(t,e){return t[1]?H:z}let h=r(t),c=h(t);return{c(){e=n("center"),c.c()},l(t){e=a(t,"CENTER",{});var r=i(e);c.l(r),r.forEach(o)},m(t,r){s(t,e,r),c.m(e,null)},p(t,[n]){h===(h=r(t))&&c?c.p(t,n):(c.d(1),c=h(t),c&&(c.c(),c.m(e,null)))},i:l,o:l,d(t){t&&o(e),c.d()}}}function R(t,e,r){let n,a,i,{data:o}=e,{pagination:s}=e,{height:l=600}=e,{width:d=600}=e,{jsonParseError:u}=e;const f=t=>{if("string"==typeof t&&(t.startsWith("https://")||t.startsWith("http://")))return"link"},m=t=>{const e=t.reduce(((t,e)=>(Object.entries(e).forEach((([e,r])=>{t[e]={title:e.toUpperCase(),field:e,headerFilter:"input",formatter:f(r)}})),t)),{});return Object.entries(e).reduce(((t,[e,r])=>(t.push(r),t)),[])};return t.$$set=t=>{"data"in t&&r(2,o=t.data),"pagination"in t&&r(3,s=t.pagination),"height"in t&&r(4,l=t.height),"width"in t&&r(5,d=t.width),"jsonParseError"in t&&r(6,u=t.jsonParseError)},t.$$.update=()=>{var e,c,f;28&t.$$.dirty&&(console.log({data:o}),e=o,c=s,f=l,u?i.destroy():(r(1,a=void 0),setTimeout((()=>{try{const t=c?{pagination:"local",height:f+"px"}:{};i&&i.destroy(),i=new h("#table",Object.assign({data:e,resizableColumns:!0,movableColumns:!0,headerFilterPlaceholder:"filter...",height:"100%",layout:"fitDataTable",columns:m(e)},t)),c&&r(0,n.style.maxWidth=d-2+"px",n),console.log({tabulatorTable:i})}catch(t){r(1,a=t)}}),10)))},[n,a,o,s,l,d,u,function(t){c[t?"unshift":"push"]((()=>{n=t,r(0,n)}))}]}class W extends t{constructor(t){super(),e(this,t,R,J,r,{data:2,pagination:3,height:4,width:5,jsonParseError:6})}}function F(t){let e,r;return{c(){e=n("div"),r=d(t[2]),this.h()},l(n){e=a(n,"DIV",{style:!0});var s=i(e);r=u(s,t[2]),s.forEach(o),this.h()},h(){p(e,"color","red"),p(e,"margin-bottom","1rem"),p(e,"text-align","center")},m(t,n){s(t,e,n),m(e,r)},p(t,e){4&e&&g(r,t[2])},d(t){t&&o(e)}}}function _(t){var e;let r,h,c,g,j,x,T,N,C,k,I,D,P=(null==(e=t[0])?void 0:e.trim())&&t[2],O=P&&F(t);return{c(){r=n("div"),h=n("div"),c=n("label"),g=d("Title"),j=v(),x=n("input"),T=v(),N=n("textarea"),C=v(),O&&O.c(),k=y(),this.h()},l(t){r=a(t,"DIV",{style:!0});var e=i(r);h=a(e,"DIV",{style:!0});var n=i(h);c=a(n,"LABEL",{for:!0,style:!0});var s=i(c);g=u(s,"Title"),s.forEach(o),j=$(n),x=a(n,"INPUT",{style:!0}),n.forEach(o),T=$(e),N=a(e,"TEXTAREA",{style:!0}),i(N).forEach(o),e.forEach(o),C=$(t),O&&O.l(t),k=y(),this.h()},h(){f(c,"for","title"),p(c,"margin-right","0.5rem"),p(x,"width","100%"),p(h,"margin-bottom","0.5rem"),p(h,"display","flex"),p(N,"width","100%"),p(N,"height","12rem"),p(N,"resize","vertical"),p(r,"padding-left","1rem"),p(r,"padding-right","1rem"),p(r,"margin-bottom","1rem")},m(e,n){s(e,r,n),m(r,h),m(h,c),m(c,g),m(h,j),m(h,x),b(x,t[1]),m(r,T),m(r,N),t[7](N),b(N,t[0]),s(e,C,n),O&&O.m(e,n),s(e,k,n),I||(D=[E(x,"input",t[5]),E(x,"input",t[6]),E(N,"input",t[8]),E(N,"input",t[9])],I=!0)},p(t,[e]){var r;2&e&&x.value!==t[1]&&b(x,t[1]),1&e&&b(N,t[0]),5&e&&(P=(null==(r=t[0])?void 0:r.trim())&&t[2]),P?O?O.p(t,e):(O=F(t),O.c(),O.m(k.parentNode,k)):O&&(O.d(1),O=null)},i:l,o:l,d(e){e&&o(r),t[7](null),e&&o(C),O&&O.d(e),e&&o(k),I=!1,w(D)}}}function q(t,e,r){let{json:n}=e,{title:a}=e,{error:i}=e;const o=j();let s;x((()=>{r(3,s.placeholder='Paste JSON array here. \n\nStructure:\n[\n    {"name": "alice", "id": 1},\n    {"name": "bob", "id": 2}\n]',s)}));return t.$$set=t=>{"json"in t&&r(0,n=t.json),"title"in t&&r(1,a=t.title),"error"in t&&r(2,i=t.error)},[n,a,i,s,o,function(){a=this.value,r(1,a)},()=>o("inputChanged",{}),function(t){c[t?"unshift":"push"]((()=>{s=t,r(3,s)}))},function(){n=this.value,r(0,n)},()=>o("inputChanged")]}class G extends t{constructor(t){super(),e(this,t,q,_,r,{json:0,title:1,error:2})}}const{window:K}=P;function M(t){let e,r,l,h,f,g,y,b,w,j,x,T,N,k,D,P,O,z,H;function J(e){t[18](e)}function R(e){t[19](e)}let W={error:t[2].error};return void 0!==t[0]&&(W.json=t[0]),void 0!==t[8]&&(W.title=t[8]),j=new G({props:W}),c.push((()=>B(j,"json",J))),c.push((()=>B(j,"title",R))),{c(){e=n("div"),r=n("h1"),l=d("JSON ➡️ Table"),h=v(),f=n("h4"),g=d("Create an interactive spreadsheet table and share it with others.\n        "),y=n("br"),b=d("\n        No data is ever stored on the server! ✨"),w=v(),L(j.$$.fragment),N=v(),k=n("center"),D=n("button"),P=d("Use dummy data"),this.h()},l(t){e=a(t,"DIV",{style:!0});var n=i(e);r=a(n,"H1",{style:!0});var s=i(r);l=u(s,"JSON ➡️ Table"),s.forEach(o),h=$(n),f=a(n,"H4",{style:!0});var c=i(f);g=u(c,"Create an interactive spreadsheet table and share it with others.\n        "),y=a(c,"BR",{}),b=u(c,"\n        No data is ever stored on the server! ✨"),c.forEach(o),w=$(n),V(j.$$.fragment,n),N=$(n),k=a(n,"CENTER",{});var d=i(k);D=a(d,"BUTTON",{style:!0});var m=i(D);P=u(m,"Use dummy data"),m.forEach(o),d.forEach(o),n.forEach(o),this.h()},h(){p(r,"margin-top","3rem"),p(r,"text-align","center"),p(f,"text-align","center"),p(f,"margin-bottom","3rem"),p(D,"align-self","stretch"),p(e,"display","flex"),p(e,"flex-direction","column"),p(e,"align-items","stretch")},m(n,a){s(n,e,a),m(e,r),m(r,l),m(e,h),m(e,f),m(f,g),m(f,y),m(f,b),m(e,w),U(j,e,null),m(e,N),m(e,k),m(k,D),m(D,P),O=!0,z||(H=E(D,"click",t[13]),z=!0)},p(t,e){const r={};4&e&&(r.error=t[2].error),!x&&1&e&&(x=!0,r.json=t[0],A((()=>x=!1))),!T&&256&e&&(T=!0,r.title=t[8],A((()=>T=!1))),j.$set(r)},i(t){O||(I(j.$$.fragment,t),O=!0)},o(t){C(j.$$.fragment,t),O=!1},d(t){t&&o(e),S(j),z=!1,H()}}}function X(t){let e,r,l,h,c,y,b,w,j,x,D,P,B,A,z,H,J;function R(t,e){return t[6]?Y:Q}let F=R(t),_=F(t),q=(t[1]||t[2].error)&&Z(t);return A=new W({props:{data:t[2].data,jsonParseError:t[2].error,pagination:!0,height:t[4]-(t[3]+5),width:t[5]}}),{c(){e=n("div"),r=n("div"),l=n("h1"),h=d(t[8]),c=v(),y=n("div"),_.c(),b=v(),w=n("label"),j=n("input"),x=d("\n          Edit"),P=v(),q&&q.c(),B=v(),L(A.$$.fragment),this.h()},l(n){e=a(n,"DIV",{style:!0});var s=i(e);r=a(s,"DIV",{style:!0});var d=i(r);l=a(d,"H1",{style:!0});var f=i(l);h=u(f,t[8]),f.forEach(o),d.forEach(o),c=$(s),y=a(s,"DIV",{style:!0});var m=i(y);_.l(m),b=$(m),w=a(m,"LABEL",{for:!0,style:!0});var p=i(w);j=a(p,"INPUT",{type:!0,id:!0}),x=u(p,"\n          Edit"),p.forEach(o),m.forEach(o),s.forEach(o),P=$(n),q&&q.l(n),B=$(n),V(A.$$.fragment,n),this.h()},h(){p(l,"font-size","1rem"),p(r,"margin-left","1rem"),f(j,"type","checkbox"),f(j,"id","editDataBox"),f(w,"for","editDataBox"),p(w,"margin-left","1rem"),p(y,"margin-right","1rem"),p(e,"height","2.5rem"),p(e,"display","flex"),p(e,"justify-content","space-between"),p(e,"align-items","center"),T((()=>t[15].call(e)))},m(n,a){s(n,e,a),m(e,r),m(r,l),m(l,h),m(e,c),m(e,y),_.m(y,null),m(y,b),m(y,w),m(w,j),j.checked=t[1],m(w,x),D=N(e,t[15].bind(e)),s(n,P,a),q&&q.m(n,a),s(n,B,a),U(A,n,a),z=!0,H||(J=E(j,"change",t[14]),H=!0)},p(t,e){(!z||256&e)&&g(h,t[8]),F===(F=R(t))&&_?_.p(t,e):(_.d(1),_=F(t),_&&(_.c(),_.m(y,b))),2&e&&(j.checked=t[1]),t[1]||t[2].error?q?(q.p(t,e),6&e&&I(q,1)):(q=Z(t),q.c(),I(q,1),q.m(B.parentNode,B)):q&&(O(),C(q,1,1,(()=>{q=null})),k());const r={};4&e&&(r.data=t[2].data),4&e&&(r.jsonParseError=t[2].error),24&e&&(r.height=t[4]-(t[3]+5)),32&e&&(r.width=t[5]),A.$set(r)},i(t){z||(I(q),I(A.$$.fragment,t),z=!0)},o(t){C(q),C(A.$$.fragment,t),z=!1},d(t){t&&o(e),_.d(),D(),t&&o(P),q&&q.d(t),t&&o(B),S(A,t),H=!1,J()}}}function Q(t){let e,r,l,h,c=t[7]?"Creating permanent link...":"Create permanent link to this table";return{c(){e=n("button"),r=d(c),this.h()},l(t){e=a(t,"BUTTON",{title:!0});var n=i(e);r=u(n,c),n.forEach(o),this.h()},h(){e.disabled=t[7],f(e,"title","No data is saved on any servers!")},m(n,a){s(n,e,a),m(e,r),l||(h=E(e,"click",t[11]),l=!0)},p(t,n){128&n&&c!==(c=t[7]?"Creating permanent link...":"Create permanent link to this table")&&g(r,c),128&n&&(e.disabled=t[7])},d(t){t&&o(e),l=!1,h()}}}function Y(t){let e,r;return{c(){e=n("a"),r=d("Link to this table"),this.h()},l(t){e=a(t,"A",{href:!0,target:!0,style:!0});var n=i(e);r=u(n,"Link to this table"),n.forEach(o),this.h()},h(){f(e,"href",t[6]),f(e,"target","_blank")},m(t,n){s(t,e,n),m(e,r)},p(t,r){64&r&&f(e,"href",t[6])},d(t){t&&o(e)}}}function Z(t){let e,r,n,a;function i(e){t[16](e)}function o(e){t[17](e)}let s={error:t[2].error};return void 0!==t[0]&&(s.json=t[0]),void 0!==t[8]&&(s.title=t[8]),e=new G({props:s}),c.push((()=>B(e,"json",i))),c.push((()=>B(e,"title",o))),e.$on("inputChanged",t[12]),{c(){L(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,r){U(e,t,r),a=!0},p(t,a){const i={};4&a&&(i.error=t[2].error),!r&&1&a&&(r=!0,i.json=t[0],A((()=>r=!1))),!n&&256&a&&(n=!0,i.title=t[8],A((()=>n=!1))),e.$set(i)},i(t){a||(I(e.$$.fragment,t),a=!0)},o(t){C(e.$$.fragment,t),a=!1},d(t){S(e,t)}}}function tt(t){let e,r,l,h,c,d,u;const f=[X,M],m=[];function g(t,e){return t[9]?0:1}return r=g(t),l=m[r]=f[r](t),{c(){e=n("main"),l.c(),this.h()},l(t){e=a(t,"MAIN",{style:!0});var r=i(e);l.l(r),r.forEach(o),this.h()},h(){p(e,"height","100%"),p(e,"width","100%"),T((()=>t[20].call(e)))},m(n,a){s(n,e,a),m[r].m(e,null),h=N(e,t[20].bind(e)),c=!0,d||(u=E(K,"hashchange",t[10]),d=!0)},p(t,[n]){let a=r;r=g(t),r===a?m[r].p(t,n):(O(),C(m[a],1,1,(()=>{m[a]=null})),k(),l=m[r],l?l.p(t,n):(l=m[r]=f[r](t),l.c()),I(l,1),l.m(e,null))},i(t){c||(I(l),c=!0)},o(t){C(l),c=!1},d(t){t&&o(e),m[r].d(),h(),d=!1,u()}}}function et(t,e,r){let n,a;var i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(a,i){function o(t){try{l(n.next(t))}catch(e){i(e)}}function s(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,s)}l((n=n.apply(t,e||[])).next())}))};let o,s,l,h,c=!1,d="",u=!1,f="",m=!1;const p=D("lzma");x((()=>{g()}));const g=()=>{const t=window.location.hash.substring(0);t&&(r(6,d=window.location.hash),p.decompress(t).then((t=>{console.log("decoded from URL",t),r(0,o=JSON.stringify(t.json.data,null,2)),r(8,f=t.title)})))};return t.$$.update=()=>{1&t.$$.dirty&&r(2,n=(t=>{try{return{data:JSON.parse(t),error:""}}catch(e){return{data:void 0,error:e+""}}})(o)),6&t.$$.dirty&&r(9,a=n.data||c)},[o,c,n,s,l,h,d,u,f,a,()=>{m?m=!1:window.location.hash?g():(r(0,o=""),r(6,d=""))},()=>{r(7,u=!0),p.compress({json:n,title:f}).then((t=>{r(6,d="#"+t),window.location.hash=d,r(7,u=!1)})).catch((t=>{r(7,u=!1),console.error("Could not create sharable url",t)}))},()=>{r(6,d=""),m=!0,window.location.hash=""},()=>i(void 0,void 0,void 0,(function*(){const t=yield fetch("movies.json");r(0,o=yield t.text())})),function(){c=this.checked,r(1,c)},function(){s=this.clientHeight,r(3,s)},function(t){o=t,r(0,o)},function(t){f=t,r(8,f)},function(t){o=t,r(0,o)},function(t){f=t,r(8,f)},function(){l=this.clientHeight,h=this.clientWidth,r(4,l),r(5,h)}]}new class extends t{constructor(t){super(),e(this,t,et,tt,r,{})}}({target:document.getElementById("app")});
