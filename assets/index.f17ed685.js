import{S as t,i as e,s as r,e as n,c as a,a as i,d as o,b as s,n as l,T as h,f as c,t as d,g as u,h as f,j as m,k as p,l as g,m as v,o as $,p as y,q as b,r as E,u as w,v as j,w as x,x as N,y as T,z as k,A as C,B as D,C as I,D as O,E as P,F as B,G as L,H as S,I as U}from"./vendor.9c63bdd0.js";function A(t){let e,r;return{c(){e=n("div"),r=d("Loading..."),this.h()},l(t){e=a(t,"DIV",{id:!0});var n=i(e);r=u(n,"Loading..."),n.forEach(o),this.h()},h(){f(e,"id","table")},m(n,a){s(n,e,a),m(e,r),t[7](e)},p:l,d(r){r&&o(e),t[7](null)}}}function V(t){let e,r;return{c(){e=n("div"),r=d(t[1]),this.h()},l(n){e=a(n,"DIV",{style:!0});var s=i(e);r=u(s,t[1]),s.forEach(o),this.h()},h(){p(e,"color","red"),p(e,"margin-top","1rem")},m(t,n){s(t,e,n),m(e,r)},p(t,e){2&e&&g(r,t[1])},d(t){t&&o(e)}}}function H(t){let e;function r(t,e){return t[1]?V:A}let h=r(t),c=h(t);return{c(){e=n("center"),c.c()},l(t){e=a(t,"CENTER",{});var r=i(e);c.l(r),r.forEach(o)},m(t,r){s(t,e,r),c.m(e,null)},p(t,[n]){h===(h=r(t))&&c?c.p(t,n):(c.d(1),c=h(t),c&&(c.c(),c.m(e,null)))},i:l,o:l,d(t){t&&o(e),c.d()}}}function J(t,e,r){let n,a,i,{data:o}=e,{pagination:s}=e,{height:l=600}=e,{width:d=600}=e,{jsonParseError:u}=e;const f=t=>{if("string"==typeof t&&(t.startsWith("https://")||t.startsWith("http://")))return"link"},m=t=>{const e=t.reduce(((t,e)=>(Object.entries(e).forEach((([e,r])=>{t[e]={title:e.toUpperCase(),field:e,headerFilter:"input",formatter:f(r)}})),t)),{});return Object.entries(e).reduce(((t,[e,r])=>(t.push(r),t)),[])};return t.$$set=t=>{"data"in t&&r(2,o=t.data),"pagination"in t&&r(3,s=t.pagination),"height"in t&&r(4,l=t.height),"width"in t&&r(5,d=t.width),"jsonParseError"in t&&r(6,u=t.jsonParseError)},t.$$.update=()=>{var e,c,f;28&t.$$.dirty&&(console.log({data:o}),e=o,c=s,f=l,u?i.destroy():(r(1,a=void 0),setTimeout((()=>{try{const t=c?{pagination:"local",height:f+"px"}:{};i&&i.destroy(),i=new h("#table",Object.assign({data:e,resizableColumns:!0,movableColumns:!0,headerFilterPlaceholder:"filter...",height:"100%",layout:"fitDataTable",columns:m(e)},t)),c&&r(0,n.style.maxWidth=d-2+"px",n),console.log({tabulatorTable:i})}catch(t){r(1,a=t)}}),10)))},[n,a,o,s,l,d,u,function(t){c[t?"unshift":"push"]((()=>{n=t,r(0,n)}))}]}class R extends t{constructor(t){super(),e(this,t,J,H,r,{data:2,pagination:3,height:4,width:5,jsonParseError:6})}}function z(t){let e,r;return{c(){e=n("div"),r=d(t[1]),this.h()},l(n){e=a(n,"DIV",{style:!0});var s=i(e);r=u(s,t[1]),s.forEach(o),this.h()},h(){p(e,"color","red"),p(e,"margin-bottom","1rem"),p(e,"text-align","center")},m(t,n){s(t,e,n),m(e,r)},p(t,e){2&e&&g(r,t[1])},d(t){t&&o(e)}}}function W(t){var e;let r,h,c,d,u,f,g=(null==(e=t[0])?void 0:e.trim())&&t[1],w=g&&z(t);return{c(){r=n("div"),h=n("textarea"),c=v(),w&&w.c(),d=$(),this.h()},l(t){r=a(t,"DIV",{style:!0});var e=i(r);h=a(e,"TEXTAREA",{style:!0}),i(h).forEach(o),e.forEach(o),c=y(t),w&&w.l(t),d=$(),this.h()},h(){p(h,"width","100%"),p(h,"height","12rem"),p(h,"resize","vertical"),p(r,"padding-left","1rem"),p(r,"padding-right","1rem"),p(r,"margin-bottom","1rem")},m(e,n){s(e,r,n),m(r,h),t[3](h),b(h,t[0]),s(e,c,n),w&&w.m(e,n),s(e,d,n),u||(f=E(h,"input",t[4]),u=!0)},p(t,[e]){var r;1&e&&b(h,t[0]),3&e&&(g=(null==(r=t[0])?void 0:r.trim())&&t[1]),g?w?w.p(t,e):(w=z(t),w.c(),w.m(d.parentNode,d)):w&&(w.d(1),w=null)},i:l,o:l,d(e){e&&o(r),t[3](null),e&&o(c),w&&w.d(e),e&&o(d),u=!1,f()}}}function F(t,e,r){let n,{json:a}=e,{error:i}=e;return w((()=>{r(2,n.placeholder='Paste JSON array here. \n\nStructure:\n[\n    {"name": "alice", "id": 1},\n    {"name": "bob", "id": 2}\n]',n)})),t.$$set=t=>{"json"in t&&r(0,a=t.json),"error"in t&&r(1,i=t.error)},[a,i,n,function(t){c[t?"unshift":"push"]((()=>{n=t,r(2,n)}))},function(){a=this.value,r(0,a)}]}class _ extends t{constructor(t){super(),e(this,t,F,W,r,{json:0,error:1})}}const{window:q}=D;function G(t){let e,r,l,h,f,g,$,b,w,j,x,T,C,D,I,A,V,H;function J(e){t[15](e)}let R={error:t[2].error};return void 0!==t[0]&&(R.json=t[0]),j=new _({props:R}),c.push((()=>O(j,"json",J))),{c(){e=n("div"),r=n("h1"),l=d("JSON ➡️ Table"),h=v(),f=n("h4"),g=d("Create an interactive spreadsheet table and share it with others. \n        "),$=n("br"),b=d("\n        No data is ever stored on the server! ✨"),w=v(),P(j.$$.fragment),T=v(),C=n("center"),D=n("button"),I=d("Use dummy data"),this.h()},l(t){e=a(t,"DIV",{style:!0});var n=i(e);r=a(n,"H1",{style:!0});var s=i(r);l=u(s,"JSON ➡️ Table"),s.forEach(o),h=y(n),f=a(n,"H4",{style:!0});var c=i(f);g=u(c,"Create an interactive spreadsheet table and share it with others. \n        "),$=a(c,"BR",{}),b=u(c,"\n        No data is ever stored on the server! ✨"),c.forEach(o),w=y(n),B(j.$$.fragment,n),T=y(n),C=a(n,"CENTER",{});var d=i(C);D=a(d,"BUTTON",{style:!0});var m=i(D);I=u(m,"Use dummy data"),m.forEach(o),d.forEach(o),n.forEach(o),this.h()},h(){p(r,"margin-top","3rem"),p(r,"text-align","center"),p(f,"text-align","center"),p(f,"margin-bottom","3rem"),p(D,"align-self","stretch"),p(e,"display","flex"),p(e,"flex-direction","column"),p(e,"align-items","stretch")},m(n,a){s(n,e,a),m(e,r),m(r,l),m(e,h),m(e,f),m(f,g),m(f,$),m(f,b),m(e,w),L(j,e,null),m(e,T),m(e,C),m(C,D),m(D,I),A=!0,V||(H=E(D,"click",t[11]),V=!0)},p(t,e){const r={};4&e&&(r.error=t[2].error),!x&&1&e&&(x=!0,r.json=t[0],S((()=>x=!1))),j.$set(r)},i(t){A||(k(j.$$.fragment,t),A=!0)},o(t){N(j.$$.fragment,t),A=!1},d(t){t&&o(e),U(j),V=!1,H()}}}function M(t){let e,r,l,h,c,g,$,b,w,C,D,O;function S(t,e){return t[6]?K:X}let A=S(t),V=A(t),H=(t[1]||t[2].error)&&Q(t);return w=new R({props:{data:t[2].data,jsonParseError:t[2].error,pagination:!0,height:t[4]-(t[3]+6),width:t[5]}}),{c(){e=n("div"),V.c(),r=v(),l=n("label"),h=n("input"),c=d("\n        Edit Data"),$=v(),H&&H.c(),b=v(),P(w.$$.fragment),this.h()},l(t){e=a(t,"DIV",{style:!0});var n=i(e);V.l(n),r=y(n),l=a(n,"LABEL",{for:!0,style:!0});var s=i(l);h=a(s,"INPUT",{type:!0,id:!0}),c=u(s,"\n        Edit Data"),s.forEach(o),n.forEach(o),$=y(t),H&&H.l(t),b=y(t),B(w.$$.fragment,t),this.h()},h(){f(h,"type","checkbox"),f(h,"id","editDataBox"),f(l,"for","editDataBox"),p(l,"margin-left","1rem"),p(e,"height","50px"),p(e,"display","flex"),p(e,"justify-content","center"),p(e,"align-items","center"),j((()=>t[13].call(e)))},m(n,a){s(n,e,a),V.m(e,null),m(e,r),m(e,l),m(l,h),h.checked=t[1],m(l,c),g=x(e,t[13].bind(e)),s(n,$,a),H&&H.m(n,a),s(n,b,a),L(w,n,a),C=!0,D||(O=E(h,"change",t[12]),D=!0)},p(t,n){A===(A=S(t))&&V?V.p(t,n):(V.d(1),V=A(t),V&&(V.c(),V.m(e,r))),2&n&&(h.checked=t[1]),t[1]||t[2].error?H?(H.p(t,n),6&n&&k(H,1)):(H=Q(t),H.c(),k(H,1),H.m(b.parentNode,b)):H&&(I(),N(H,1,1,(()=>{H=null})),T());const a={};4&n&&(a.data=t[2].data),4&n&&(a.jsonParseError=t[2].error),24&n&&(a.height=t[4]-(t[3]+6)),32&n&&(a.width=t[5]),w.$set(a)},i(t){C||(k(H),k(w.$$.fragment,t),C=!0)},o(t){N(H),N(w.$$.fragment,t),C=!1},d(t){t&&o(e),V.d(),g(),t&&o($),H&&H.d(t),t&&o(b),U(w,t),D=!1,O()}}}function X(t){let e,r,l,h,c=t[7]?"Creating permanent link...":"Create permanent link to this table";return{c(){e=n("button"),r=d(c),this.h()},l(t){e=a(t,"BUTTON",{title:!0});var n=i(e);r=u(n,c),n.forEach(o),this.h()},h(){e.disabled=t[7],f(e,"title","No data is saved on any servers!")},m(n,a){s(n,e,a),m(e,r),l||(h=E(e,"click",t[10]),l=!0)},p(t,n){128&n&&c!==(c=t[7]?"Creating permanent link...":"Create permanent link to this table")&&g(r,c),128&n&&(e.disabled=t[7])},d(t){t&&o(e),l=!1,h()}}}function K(t){let e,r;return{c(){e=n("a"),r=d("Link to this table"),this.h()},l(t){e=a(t,"A",{href:!0,style:!0});var n=i(e);r=u(n,"Link to this table"),n.forEach(o),this.h()},h(){f(e,"href",t[6])},m(t,n){s(t,e,n),m(e,r)},p(t,r){64&r&&f(e,"href",t[6])},d(t){t&&o(e)}}}function Q(t){let e,r,n;function a(e){t[14](e)}let i={error:t[2].error};return void 0!==t[0]&&(i.json=t[0]),e=new _({props:i}),c.push((()=>O(e,"json",a))),{c(){P(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,r){L(e,t,r),n=!0},p(t,n){const a={};4&n&&(a.error=t[2].error),!r&&1&n&&(r=!0,a.json=t[0],S((()=>r=!1))),e.$set(a)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Y(t){let e,r,l,h,c,d,u;const f=[M,G],m=[];function g(t,e){return t[8]?0:1}return r=g(t),l=m[r]=f[r](t),{c(){e=n("main"),l.c(),this.h()},l(t){e=a(t,"MAIN",{style:!0});var r=i(e);l.l(r),r.forEach(o),this.h()},h(){p(e,"height","100%"),j((()=>t[16].call(e)))},m(n,a){s(n,e,a),m[r].m(e,null),h=x(e,t[16].bind(e)),c=!0,d||(u=E(q,"hashchange",t[9]),d=!0)},p(t,[n]){let a=r;r=g(t),r===a?m[r].p(t,n):(I(),N(m[a],1,1,(()=>{m[a]=null})),T(),l=m[r],l?l.p(t,n):(l=m[r]=f[r](t),l.c()),k(l,1),l.m(e,null))},i(t){c||(k(l),c=!0)},o(t){N(l),c=!1},d(t){t&&o(e),m[r].d(),h(),d=!1,u()}}}function Z(t,e,r){let n,a;var i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(a,i){function o(t){try{l(n.next(t))}catch(e){i(e)}}function s(t){try{l(n.throw(t))}catch(e){i(e)}}function l(t){var e;t.done?a(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,s)}l((n=n.apply(t,e||[])).next())}))};let o,s,l,h,c=!1,d="",u=!1;const f=C("lzma");w((()=>{m()}));const m=()=>{const t=window.location.hash.substring(0);t&&(r(6,d=window.location.hash),f.decompress(t).then((t=>{console.log("decoded from URL",t),r(0,o=JSON.stringify(t.json.data,null,2))})))};return t.$$.update=()=>{1&t.$$.dirty&&r(2,n=(t=>{try{return{data:JSON.parse(t),error:""}}catch(e){return{data:void 0,error:e+""}}})(o)),6&t.$$.dirty&&r(8,a=n.data||c)},[o,c,n,s,l,h,d,u,a,()=>{window.location.hash?m():(r(0,o=""),r(6,d=""))},()=>{r(7,u=!0),f.compress({json:n}).then((t=>{r(6,d="#"+t),window.location.hash=d,r(7,u=!1)})).catch((t=>{r(7,u=!1),console.error("Could not create sharable url",t)}))},()=>i(void 0,void 0,void 0,(function*(){const t=yield fetch("movies.json");r(0,o=yield t.text())})),function(){c=this.checked,r(1,c)},function(){s=this.clientHeight,r(3,s)},function(t){o=t,r(0,o)},function(t){o=t,r(0,o)},function(){l=this.clientHeight,h=this.clientWidth,r(4,l),r(5,h)}]}new class extends t{constructor(t){super(),e(this,t,Z,Y,r,{})}}({target:document.getElementById("app")});
